      Beehive monitor based on Raspberry Pi
      
      Geo Meadows 
      
      Honey Pie you are making me crazy but I'm lazy so won't you please come home 
      Oh, Honey Pie, my position is tragic 
      
      Come and show me the magic of your Hollywood song 
      You became a legend on the silver screen
      And now that bothers me and makes me weak in the knees 
      Ah Honey Pie, you are driving me frantic, sail across the Atlantic to be where you belong 
      Honey Pie come back to me
      I like it like that  ooo
      I like this kind of music that kind of music, play it to me, play it to me Hollywood
      Will the wind that threw her boat across the sea kindly send her sailing back to me 
      Now, Honey Pie, you are making me crazy, I'm in love 
      >> Okay.  There we go.  Okay.  Good afternoon, everybody.  Could we put the PC audio a bit?  Thank you.  Perfect.  We are at stage B.  B for bar.  Because it's the closest one to the bar.  That makes it very easy to remember, if you're at stage B, think you are supposed to be in stage B, you're in the right place.  A couple announcements before I introduce Joe here.  We need volunteers.  Lots of volunteers to help keep things running.  There are lots of opportunities to do fun things like work the bar, stand up on stage, do what you like.  AV, video recording, all kinds of things.  So, please go to the info tent or the volunteer center or the blue room to volunteer.  The green room, sorry.  If you can.  Please, do that.  Also, tonight is Hebocon, the crappy robots contest.  We want your feedback, you can give it anonymously at EMF camp.org/feedback.  And there's a swap shop at the Cy bar tonight.  Bring your unwanted tech stuff and leave someone else's stuff.  Sounds like a great idea to me.
      Right, so, I would like to have the pleasure of introducing Geo Meadows.  I'm a geologist, I wanted to say Geo Meadows.  It's Geo.  Let’s give a very warm welcome to Geo Meadows, talking about beehive monitoring based on the Raspberry Pi.
      [ Applause ]
      GEO: Thank you.  We've had a little struggle "display.  We're on extended screen instead of duplicate which throws me a little bit.  Raspberry Pi, obviously HoneyPi is the nice name, we thank the Beatles for the intro.  Any pie will do.  I have two monitors, hope to show you live off of the Internet.  One is using a zero, another is a two.  Three is a bit of a waste.  There's not much going on in there.  We'll come on to that.  So, let's rapidly progress.  Okay.
      So, the HoneyPi is now on a Raspberry Pi.  It started off on an Arduino.  I've got on Arduino I can show you if anyone wants to have a look later.  But I moved on from that because I wanted to add video and audio and that's a lot easier with the Raspberry Pi.  As it's doing remote software updates.  The Raspberry Pi it is.
      Okay.  We covered that.  Why bother?  Mainly because it's fun and it's interesting to see what the bees are up to.  24/7/12, no matter the weather.  You don't have to go down and look and weigh things and like that
      And you can be anywhere in the world.  Beekeepers have managed for thousands of years without HoneyPi.  But they have had some nasty surprises when checking the bees.  This is the advantage of remote monitoring.  This gets you ahead of the game.  For example, colonies die in the winter.  As soon as this happens, you will know, and you will get the indication that they are in trouble.  So, you can take avoidable action.  You know when they're running out of food because we're weighing the hive all the time.  And with a bit of knowledge you know where the danger zones are.
      Okay.  You can also detect the part of the colony swarm.  And you can do something about that.  For example, I was in holiday in Pembrokeshire a couple years ago.  One night I made the mistake of going on the Internet to see what the bees were doing, and my wife said never to do.  And I saw they had swarmed.  I convinced her to come back the next day.  I was not popular.  But the next day, good enough, I caught the swarm.  How many beekeepers are here?  Okay.  You know about the swarming situation.  Yeah.
      When they swarm, they  they congregate locally.  So, you have about a day to catch them all.  And then they sit there and send the scouts out trying to find a nice home and decide where to go.  And that could be a couple miles away.  And you've lost them.  You have the window of opportunity.  If you can see the swarm, you can do something about it.  And you get in the hive, and deal with all the queens.  I won't go there.  That's beekeeper stuff.  And in the spring, leaving the honey on too long.  Certain types of honey, you need to get out of the hive quickly.  And you can get an indication of whether the hive has lost the queen.  There's lot of stuff you can do.
      This is one of my hives.  It's polystyrene stack.  You're not seeing the pointer that I'm seeing.  I'll just see if I can use this.  Is that showing through the screen?  Yeah, great.  This is the brood area where the eggs are laid, and there's a soup as well where we try to get the bees to put their honey.  So, okay.  Now, this is the load cell.  And we just go back to the previous one, whey meant to show you was that on the front of this hive, just about here, there's a hinge, and just about here, there's a hinge.  So, it's a cantilever.  All the weight is on the back, and that's where the load cell sits.  It screws on and sits about half the weight of the hive.  But that's okay, we have software, we can cope.
      So, yeah, that's the load cell.  Lefthand side would be clamped to the base.  And the righthand side floats and takes the weight of the hive.  All right.  So, we can use any Pi.  So, this offers a lowcost monitoring solution.  For about 70 pounds you can build this.  Very rough figures, 10 pound for the Pi, 30 pound for the load cell, 5 pound for the temperature sensors, 10 pound for the inspace modules, look at those shortly.  10 pound for the box.  And the hardware, if you have a garage like mine, full of stuff.  Shouldn't cost you anything.  Maybe 5 pound.  The cell, it took a long time to come in on this.  40 kilogram, but since you're only putting half the weight on it, it can deal with 80 kilograms which I learned back in July.  This is on a website, honeypi.me.UK.  The last slide gives you the links you need to get all the information in case you should want to pursue it.
      Okay.  Here is the circuit diagram.  A Raspberry Pi.  Any Raspberry Pi will have the GPIO here.  Standard connector.  There's a module required to interface to the load cell.  The load cell is a preach arrangement.  A small signal and digital amplifiers.  It's built into the module.  You don't have to worry about it.  Very simple wiring.
      The analog interface.  There's a fourway analog input.  So, I've just got two censors.  It obviously could be extended.  I've homed in on LM34s, nice to use.  Just 5 volts, ground and a signal.  So, couldn't be simpler.  Okay, I think what I'm trying to do now.  If I can deal with the extended screen problem is show you something from today.  I might need a bit of help here.  At least that's not the normal one for me.  I'm going to get on to the Internet.
      That's the one.  Yeah.  Great.  Okay.  So, this is realtime.  All the way from  right.  Okay.  Let's see what the bees are up to today.  I can't see that on my screen.  Yeah.  So, what have we got?  Da, da, da  yeah, yeah, yeah.  The top left is the  a day of weight on the hive.  What we're seeing is the weight's going up a little bit.  I suspect bit end of the day it won't have gone up very much because if you look on the bottom left curve, you've got the weight over 10 days.  And forget the drop at the beginning, that's me taking on some supers.  It's generally a downward trend.  The bees are actually going out and expending more fuel in the way of honey than they're compensating for by what they bring back, so, it's a downward trip now.  It's typical this time of year.  They're consolidating, planning for the winter as bees do.  Top right is the brood temperature.  All right.
      It's between 32.5 and 34.5.  It's pretty good.  It's showing me that there's brood in there.  There are eggs, there are larvae, otherwise it wouldn't be so high.  They wouldn't need to keep it so high.  Bees have to keep it at that temperature to maintain the larvae.  And the outside temperature is the bottom right.  Okay.  So, last night it wasn't too cold.  Good to know that.  Right.  I need to get back on.  So, I need to do control.  And that.  Nope it's not there.  Great.  Okay.
      Like on PowerPoint.  Yeah, so, we've had a look at the circuit diagram.  We've had a look at today's information.  Nothing going great in those.  Right.  The software.  Very briefly, there's the Raspberry Pi operating system, free download, obviously.  The PiHive, .py, a Python script.  That deals with the load cell by the HX711 module and deals with the two temperature sensors and passes things to Thingspeak, the magical thing about it.  There's another module, which is save zero.  This is on the system, when there's no weight on the load system, you measure the zero and it pulls it as an offset every time.
      Now, a couple of tests, looks here  8592.pi that's just a test loop.  You use it with the terminal.  And the test 711 is another test loop.  These are all available and downloadable.  Okay.  We upload to Thingspeak every 6 minutes.  Thingspeak is a free service for low usage.  It presents in a series of charts, the data, out of the HTML page so you can look on your browser anywhere in the world, on your mobile phone, anywhere.  You can average the inputs to give different presentations.  So, the top left that we looked at was the days’ worth of weight.  But below that, there was ten days’ worth of weight.  Same information, just presented differently, gives you different information.
      So, let's look at an interesting day in July.  Okay.  Right.  Well, this is in the heat wave.  Bottom right.  You can see the temperature bombing up to 30 on each day.  And if you look at the lower left, you've got a nice weight buildup.  It's building up from 60 to over 80 kilograms over ten days.  That's a lot of weight.  At its peak, they were pulling in about 4 kilograms a day.  That is a lot of honey for one beehive.  The top left is interesting.  You can see 0800 on the left side of the X axis.  They go out about that time.  Well, they were out earlier than that in the heat wave.  But they don't bring much back until about 4:00.  I suspect they didn't go out very much because it was a bit hot.  And then in the evening, they pulled everything back.  They didn't pull anything back in the day, it all came in the evening after 4:00.  And then they pulled back.
      What have we got here?  Yeah.  About over 2 kilos.  That's not bad for an evening shift.  Interesting.  It was so hot during the day, they didn't bother.  Top right is very interesting.  Well, I think it's interesting.  I don't know whether you can see the laser pointer here.  But this is the brood temperature.  They're maintaining it between about 33 and 34 degrees.  So, when it zooms up because the temperature outside is high, they will cool it down by fanning.  And they'll bring it down.  It'll sit there and then it will go up again.  So, they've got to keep it up and down.  But they maintain it to within half a degree of optimum.  Which tells you there's a 1-degree dead band in the bee's temperature measurement system.  Which is just as well otherwise they would be working their socks off trying to achieve control that they don't need.  1 degree is fine.
      And the thing I understand about this curve is the history reduces at the heat wave progresses.  One day I'll understand it.  It shows how much you can get out of these charts.  You can spend quite a lot of time studying them and thinking about them.  As I do.  Okay.
      So, this is about the temperature charts we've looked at.  I think we've covered all this.  Uhhuh.  Yeah.  Okay.  The hive was getting full.  Two problems there.  It could induce swarming.  Beekeepers do not like swarming.  Your workers disappear, half the workers go away with the queen.  You've lost your honey making potential.  Beekeepers try to do things to try to get over that problem.  To preempt it.  That curve of the gradual increase in temperature says it's time to spin off the honey, put in the centrifuge and pull the honey off.  I've done very well on honey this year.  Each hive has given me over a hundred jars.  Right.  And need to say something about an alternative way of presenting data.  If you go on the Internet and check out h Highstock, it's a JavaScript file that resides within your browser page.  And it uses the Thingspeak data and presents it on a much longer time base.  You can present a whole year's worth of data.  So, you can show historical data.  This is a phrase from the Arduino one.  It's got more censors.  It's got humidity on this.
      I decided to abandon that.  It wasn't doing me any good.  When I went to Raspberry Pi, I forgot the humidity.  So, this is one day's worth.  And on the bottom, here, you can drag that, and you can have a variable time.  You can pull down more data.  You can have a week's worth of data, months of data.  You can have a whole year's worth of data if you have the patience to deal with it.  And just to show that it's possible.  This is one year for my two hives combined using PaintShop Pro.  Two traces.  Similar events going on.  There is data that won't show, like they swarmed when I put the supers on and off.  Coming out of winter.  Step there, put the supers on, and the really good honey flow.  And loads of honey here.  And then we're back into August and autumn and heading into winter.  So, the bees are always planning ahead.  But that's the information you can get off HighChart.  Really interesting stuff.  Okay.  I was going to do that.  Forget that.  We're running out of time.  This is a classic swarm trace.  Okay, there's several pointers.  Always happens May, April, sometimes June and July.  But I've never experienced that.  There's a peak in April/May.  It's usually about midday.  And you can see on the chart, there's a 1-kilogram drop.  And that 1 kilogram isn't the weight of the bees, it's the fuel.  They've all tanked up on Honey and they're away with the queen.  Half the colony is away with the queen, sitting on a tree or a fence.  And what's always case is they always do it when I'm on holiday.  I don't know how they manage that.  But they're pretty good.
      Okay.  Another trace.  This is HiveSpeak out of winter.  The danger time in winter is March.  They're preparing the food, planning the brood, getting thousands of young bees ready for the spring.  When the ponds are around, and everything is around, they need to do it during the winter.  They need to get the temperature up to 34 degrees and need to consume a lot of food.  The danger time it right around here, coming out of winter.  April, I think that is.  I can't read it backwards.  And then magically they take off.  There's food coming in.  But, of course, with this system, if I see that weight is getting a bit low, I can give them some food.  I can give them some hard food, or I can give them a liquid food.
      Right, so, that's about it.  Future work, possibly, image recognition so you can detect swarm patterns on the front of the hive.  There are certain things.  The front of the hive will be plastered with bees and you can do image recognition and with Thingspeak, I think you can send an alarm to your mobile.  You can do audio analysis, microphone for sound, you have an accelerometer.  I'll finish off with one sound clip.  Which may not come up.  Wow.  Yeah.  A hyperlink on that.
      >> Hello, there we go.  Let's have a big round of applause for Geo.  While I get this up.
      [ Applause ] 
      GEO: The last screen up.
      >> Okay.  Yes, unfortunately, we are over time, so, there's no time for questions.  I'm sure Geo would be happy to answer your questions afterwards outside the tent.  So, thank you very much and really appreciate your time and attention.  Please remember, we need volunteers.  So, please volunteer at the info tent or the green room if you have any time at all.  I have been volunteering today being the herald on stage today.  And I would really appreciate it if any of you who have the time would volunteer as well.  Thank you very much.
      [ Applause ]

