      The Knitting Network Printer
      
      Sarah Spencer (aka Simmonds)

      >> So, welcome if you're just joining us here at stage B.  And we have the sun out outside.  And we are ready for another really  this is a personally  I'm really excited about this talk.  Learning about knitting.  A machine that knitting.  And network printing.  If you are equally excited about this, I think you would also be excited about the fact that EMF is a volunteerrun organization.  And we are still looking for lots of volunteers, viewers like you to help out and run things.  I think we can all say the EMF organization is doing a fantastic job handling everything so far.
      But let's make we can push through to the very end.  If you are interested in helping out, go chat in the volunteer tent.  And we are looking for people to help out in the stages or with the tech in the back of the room or managing things from the front of the stage.  If you have any inclination to do that, please do and come and help out.  Be welcome to have you join us.  We have up next Sarah Spencer talking to us about her fantastic machine knitting.  And I think it's now an easy to say Internetfamous tapestry here at EMF for us.
      [ Applause ]
      SARAH: Good morning, everyone.  Thanks for coming along.  EMF has been close to my heart for a few years now.  I went in 2014 and I have been in love with it since.  This particular talk, I've had to cut it down a little bit, it was originally a 45minute talk.  My apologies if I rush through things here and there.  Mostly the visible knitted universe tapestry is at the end of the talk.  I want to get to that because a lot of you want to hear about that.  Most of the talk is about the technology that made the tapestry.
      All right.  So, let's get started.  I have a knitting machine from the 1980s and I turned it into a network printer.
      [ Laughter ]
      I know that sounds completely ridiculous and you're used to that after a couple of days here at EMF.  Bear with me and I hope I will convince you that's exactly what I did.  But happy to hear from the audience how you think I went.
      Right.  So, how do I define a knitting network printer?  It needs to accept an image from my computer over the network with more than two colors.  And me personally, I'm not a big fan of black and white printing.  I like to print in color.  And it can knit handsfree mostly.
      So, this is a really old piece of tape.  It comes from the 1980s. it's interesting to try and modify.  And there's certainly  yarn itself is quite a fuzzy material to work with.  Things don't always go according to plan.  It mostly does what I claim that it does.
      All right.  So, chapter one, standing on giants.  Who here has actually seen a knitting printer?  Sorry, a knitting machine.  Oh, a good chunk of the audience.  I want to say about 40% roughly.  Which is fantastic.  Have you seen one in real life?  Excellent.  Yeah, about 35%, which is so fantastic.  I don't need to spend too much time on going through the technicals.  But basically, this image show use what a knitting machine actually look like.  We have like a bed of needles.  So, a traditional knitting needle, you have two needles and pass the knitting from one needle to the next.  Turn it around and pass it back again.  That's knitting.  This machine has one needle per knit.  That zoomed in graphic that you can see with the needles passing looping.  You have the carriage.  It pulls needles out to collect the knitting and pushes it back in again, come out, pop out again, that's what actually does the knitting.  Because it manipulates multiple needles at once, it can do it really fast.  That's the main difference between traditional knits needles and a machine which uses one needle per knit.
      And these machines are typically about 200 needles wide.  You can do 200 needles or 200 knits wide.  Right, this is actually really hard work.  So, this is the lovely Lorna, showing a technique of knitting.  Using her knitting machine here.  I wanted to show you this because I wanted to emphasize how much work using these knitting machines are.  It's a bit like a sewing machine.  You sit there, and you have to engage with the knitting machine in order to produce knitting.  So, it is considered a hand craft.  Even though you're using a machine to simplify some parts of the task.  Other things are greatly complicated by having over 200 needles.  If you're using a Ruby, there's 400 needles.  It is a hand craft.  And I had the crazy idea about automating this.  Which is a little bit nutty.
      I'm not going to spend too much time on this slide.  But basically, I want to emphasize that these old knitting machines, they originally were built in 1955, the brother range, specifically.  The brother brand.  They stopped making them in 1996.  That was the brother 970, that was the last machine they introduced.  Basically, the industry changed, and people weren't buying knitting machines as much anymore.  It was so much cheaper and easier to buy your knits without having to make them at home.  Yeah.  The industry changed.  So, it just  they aren't being produced anymore.
      So, there's a huge variety.  In terms of hacked knitting, there's a huge variety of machines, all the way from purely mechanical to electro knitting which has an onboard computer.  So, there's a bit of a lull in the actual history of knitting machines.  And in 2007, there's an incredible server hack which I'm going to show you in a moment by a pair of building art students.  And then from there we actually see a whole bunch of other hacks coming in on these old knitting machines.  Specifically, the electro range.  We have a hack, a AYAB shield, basically replaces the onboard computer.  A Kniterate on Kickstarter?  We have a couple people.  It's a whole new domestic knitting machine which was produced by a team who tried to start an open source knitting machine project but because the hardware is so specific and is so intricate that it needs to be produced in a factory, it couldn't be completely open source.  Kniterate, really, really cool.  This is the Gelsomnia by a pair of brilliant art students.  I don't know much.  I can infer they have an old mechanical machine with a bunch card and you can see these silver devices are Servos reaching into the punch card system and manipulating the punch card as it goes which is fantastic.  This is the only hack I have seen on the Internet which hacks a purely mechanical knitting machine.  I have a purely mechanical knitting machine at home, haven't managed to hack it yet.  If anyone can speak German and help me search for this, I would love to learn more.
      But the actual hack I use today is based on the hack  the cool part of the hack was written by Steve Conklin with Becky Stern and Lada Ada.  Steve wrote a Python floppy drive emulator.  And if you use a hacked FDDI cable can plug into the floppy dive port on the brother 930 knitting machine.  The original port, the intention was you draw out your knitting pattern on to a Mylar sheet.  A piece of paper.  You scan it into the onboard scan on the knitting machine and you can save.  You can back up your patterns on to a floppy drive and recover them again.  Why use the onboard scanner when you can talk directly to this old floppy drive port and upload patterns that were never originally, you know, part of the scanning process.  Which is absolutely brilliant and that's something that Steve built this part of the hack which was incredible.
      With Python we can now create an image and it can be converted into a pattern and uploaded on this very old knitting machine, the 930.
      And that's the URL for it.  And we're talking roughly 2013 now.  This is when I'm like, this is so amazing.  This is incredible.  I need to get into this and I found by complete coincidence on the London hack Space Wiki, they had documented they had a brother 950 knitting machine.  And, you know, the documentation like it's in this location.  You can find it here, these are the maintainers.  You guys are awesome.  And I'm like, do you mind if I come along and just hack your knitting machine?  They're like, sure.  Why not.  Come on in.  And I'm like, ah, you guys have so cool.  And mad shoutout to the London hackspace, got me into this in the first place.  Very amazing group of people.
      This is me taking the Ada fruit hack and using it on their brother 950 knitting machine.  The original hack from the US was on a 930 machine.  And the one we had at the hack space was the Brother 950 knitting.  930, 950, must be similar, surely the hack would be quite seamless.  Not really.  The 930 knitting machine is a 16bit, and the 950 and a 32bit.  Quite different.  Took me a little bit to figure out how to modify the hack to work on a 32bit.  But I did in the end.  And this is one of the first things I knitted from my computer.  You can see the graphic there on my computer and the computer is connected using a hacked TTI cable which I believe Charles hacked that for me.  Shoutout to Charles in the audience today.
      Yeah, that was my first actual print, if you will.  Right.  So, this is my modification of the original hack that works for the 950, specifically the 950i, but the 950 and 950I are similar enough.  First point, can accept image from my computer.  Check, yes.  I think I managed to do that.  So, that's good.
      Right.  Over the network.  Anyone here heard of Octoprint?  Octoprint for 3D print something yeah, we have a few hands going up.  About ten, roughly.  Octoprint is a web interfaces that effectively designed to be a  an interface to send your files through to a 3D printer.  And I quite like the implementation of it.  How you can modify, tweak it.  I'm pretty sure there's a preview feature as well where you can do the cool things before you send it through to a 3D printer.  So, I created Octoknit.  So, Octoknit is a web interface that is sitting on a Raspberry Pi.  And the Raspberry Pi is the thing that is connected to the floppy drive port on my knitting machine at home.
      So, now I don't even have my computer connected to it anymore.  I can be in a completely different room, set up an image, send it to Octoknit and I can preview the graphic in the actual knitting grid before I get the knitting machine to start printing it.  So, Octoknit is the web interface for it.  And this is where it lives today.  That's the Raspberry Pi connected to my knitting machine.
      And that's my source code for it.  So, it's now working over the network, which is nice.  Right.  So, not just black and white.  This is where things get quite interesting.  So, when I was at London hackspace, I was running some tutorials for people to teach them how to actually work with these old knitting machines.  And I created some samples.  So, I was particularly interested in multicolor knitting in these samples.  Twocolor knitting.  I was learning about knitting and learning how to knit at the same time as I hacked this knitting machine.  Blew my mind.  These are examples for the London hackspace.  I don't know if they have them, but they were kicking over.  And this is fair isle, Intarsia, latched for fair isle, they're different techniques.  And they look similar from the front, but in the back, it's a mildly different story.
      Fair isle in particular, it works quite well for twocolor, but threecolor, on the knitting machine, anyway, there's a lot of hand manipulation and it gets quite complicated.  Same for latch fair isle and Intarsia is the most difficult on the knitting machine.  There's a lot of hand manipulation.  Now I'm trying to automate this process to try to  excuse me.
      The particular technique that I was fond of was double jacquard.  It's double layered, and it's two layers.  So, you actually have one picture on the front and a completely different picture on the back which is really awesome.  We don't have to handle yarn that's not being knit into the front.  In another technique, fair isle, it's floated.  It's a strand.  It's okay if you have short strands, but when the strands are quite long, they can get tangled and the knitting can start falling apart.  Which is not good.  I was quite fond of double jacquard.  Not because it's neat and clean, but it really simplifies the process.  So, this is me doing double jacquard.  This is the network part, and this is the actual knitting by hand.  You can see there's two parts of this process.  There's the left and right motion.  And then there's the button pressing.
      Left and right and button pressing.  And compared to the video they showed you early of  of knitting, this is a lot closer to being possible to automate which is what really excited me about this.  So, double jacquard, loved it.  Now, the other cool thing was the knitting machine was always possible to do multicolor knitting, to do more than just two colors.  The patterns themselves actually supported it.  And in this card that you can see just on the righthand side you can see numbers and those numbers change.  You got one, one, one, two, and then one, three, then one, three, four, so it could always support multiple colors.  But in particular what I noticed about the original hack, it didn't support multiple colors.  So, when Steve Conklin and Lada were looking into this, they never completely reversed the format for these old knitting machine patterns.  They never quite worked everything out.
      So, just with a process of hacking it and trying it and seeing what, you know, changing things and seeing what happened.  Reverse engineering.  I worked out a few things like how to change the width and the height.  So, the original Mylar shades were essentially 60 pixels wide and 150 pixels tall.  But a knitting machine can support a variable within height.  That was one cool thing that helped me.  And that actually turned out to be a really important step to find out the next thing which is this memo field, and I'm sure the comment was written.  The memo is blank, I have no idea, really.  And I noticed there was always the same length as the number of rows in the knitting .  So, there's always the same size as the number of rows in the knitting.  And that's where I'm like, whaaa!  I know what that's for.  The color integer.  That's where we store the color integer.  It's how the knitting machine knows what the color is supposed to be if for that particular row.  I was superexcited about that.  That was a major epiphany for me.  A big turning point.  This was circa 2014 at this stage.
      Right.  So, that's where I could work out that given an image and given  knowing what color we're doing in each particular row, I modified the hack again to support this color integer.  And, yeah.  And I managed to knit out the more than two colors successfully.
      Something else that I should probably point out is that the actual knitting itself  well, the limitation of only having one color changer on one side means that you have the color in the carriage.  You got all the way from the color changer to the other side.  And you started knitting on that row and you have to return to the color changer before starting again.  It has to knit up and back.  Which means in all the patterns originally designed for the brother 950i and any previous knitting machines, it always had double height.  And I can show that to you in that previous example here.  It always doubles.  So, you have one, one, two, two, three, three, it's always doubling because it always has to return to the color changer.  And in order to get that to look like a pixel, like the images on my computer, I always had to double the width as well.  Which I find really quite frustrating.  I wanted one knit per pixel.  That's what I wanted.  That was a thing I was quite passionate about.  Sorry, at this stage must be 2016 at this point.  So, I'd returned home from London.
      I only had a twoyear working visa here.  I'm an Aussie, by the way.  Returned home from London, got married, had a kid.  And this is the thing that was just sitting in the back of my mind going, we need to fix this, we need to solve it, we need to make it happen.  So, one thing about having a newborn is, of course, that you spend a lot of time awake.  Your hands are full.  You are physically exhausted.  But your mind doesn't really get exercised much at all.  I found that I spent an awful lot of time thinking about this problem.  My hands were full.  I couldn't do any typing or testing or anything.  But I thought about it.
      And this is what I came up with.  Four different potential solutions to this particular problem.  And the computer scientist in me thought, well, let's just do them all.  Let's program all of them and see what happens.  And this is the output.
      So, the original one we have here is four knits per pixel.  So, that's that one.  And then just to skip through a little bit, what I call the offset method.  One per pixel.  And the elongation problem is somewhat reduced.  Which I'll explain that every time you do a pass of the knitting carriage, you have to knit into the back because it's bird's eye and I won't get into that too much.  But the more you knit into the back and the front, the longer the pace gets to try and counteract the number of rows in the back that aren't in the front, which is actually pulling on the whole piece.  And so, it resolves by actually just elongating the problem.  Or elongating the piece.  And this offset method I was most happy with.
      So, one knit per pixel.  This is something that no one else had previously done in the space before using more than two colors.  I did actually go on to some knitting machine forums and sort of  and to be blog posting on this, how it works.  And you can test the they there on a knitting pattern shut and if you haven't hacked a knitting machine, you can test this idea.  Most people are quite confused by it.  I did get feedback from one crowd who releases commercial software for these knitting machines.  And the main feedback I got from them is, it's interesting.  Doesn't work, though.  It's not possible.
      It's right here.  I've done it.  It's physical.  I've done it.  Anyway.  There's the back.  Because I'm a knitting machine enthusiast.  I always show you the back of my work.  This is the back.  Double jacquard with bird's eye backing.  And just a small  whoops.  Just a small comment on fore color.  There's Gizmo in fourcolor.  I don't do too much fourcolor because with that many rows in the back that aren't in the front, it's actually starting to bulk up the knitting a fair bit.  It looks okay when you look at it in a picture.  But if any of you want to come up here after my talk and want to feel some of this fabric, yeah, full color just doesn't quite feel like as a fabric.  Although it looks all right.  I have tried fourcolor.
      Excuse me.  So, this is my code.  The code again, feel free if you're curious about hacking the machines, you can download that and have a play with it.  I believe the AYAB hack, completely replacing the onboard computer with what I believe is an Arduinobased machine, I believe they have started incorporating this new threecolor knitting pattern theory.  I believe you can actually produce my algorithm on their machine now, which is awesome.
      Right.  So, more than two colors in any single row.  After all that, do you reckon I've done it?  Yeah.  All right.  Sweet.  That's a relief.  Okay.  Moving on.  Handsfree, mostly.  Right.  So, I didn't actually reinvent the wheel this time.  I went on board, and got the brother, they're expensive.  You have to be really committed to jump into one of these.  I did want to make my own motor arm to do the sideswiping for me.  But, yeah, I have a toddler.  That's my excuse.
      But the automatic color changer.  So, I did mention earlier we have two particular actions that were between me and getting an automatic knitting machine.  One was that sideswiping, which was replaced by a brother motor arm.  And the other one I actually went do  I have to admit.  I went to my husband who is really quite amazing in the world of hardware hacking.  I went to my husband and said, hey, can you automate this button pressing for me?  And he took one look at the problem and said, no.  Can't be done.
      [ Laughter ]
      A couple of days later he came back to me and he was like, actually, yeah, it can.  I've already done it.
      [ Laughter ]
      So, this is his GitHub repo.  He's actually got  so, he's got not just the code for this hardware device that he's created.  He's also got instructions on how to build one, which is awesome.  So, I've been getting a lot of requests saying, hey, when are you going to sell them?  When are you doing to sell them?  Eventually.  But you can just actually build your own.  Yeah.  So, big shoutout to that, really, really cool piece of tech.
      So, putting it all together.  This is a time lapse video.  This is where I say it's mostly automated.  I still need to cast on for any hand knitters out there, they will appreciate the casting on process is still frustrating.  No matter what part of the knitting world you come from.  But, yeah, the nice thing is I can actually walk away from the knitting.  Which is pretty much my goal.  That's really what I wanted to achieve, which is good fun.  I do still have to come back roughly every hundred rows or so because the knitting is coming down and being held down by weights.  After about a hundred rows, the weights are close to the floor and I need to come back and move them.  I'll try to automate that one too for you.
      Right.  So, this particular knit actually was completely flawless.  It worked beautifully.  And then I came back and moved the weights.  It worked beautifully except the device I was using to take the time lapse, it ran out of battery.  So, you just have to trust me that it worked.  Cut out there.  And the casting off process looks similar to the casting on.  For each needle that's holding a knit, I need to close it off and finish it up.  So, this is the piece that I was knitting that particular day.  It's a rocket scarf, MC Escher style.  Good fun.
      Right.  Can knit hands freemostly.  What do you reckon?  Did we get there?  Sweet.
      [ Applause ]
      Okay.  So, about three minutes now to talk about the universe.  I'm going to speed up my talking even quicker.  These are the other things I have done previously.  More than just the universe.  Feel free to come talk to me about them afterwards.  All right.  So, my goodness, I Tweeted this on Sunday and it  since last Sunday.  A week now actually now that I think about it.  It got 14,000 Retweets and 72,000 likes on Twitter.  Wow!
      That was overwhelming.  Yeah.  Amazing outpouring of love from the community.  Absolutely incredible.  I've never done anything that anyone's liked that much before.  So, so amazing.  This was partsponsored by EMF Camp.  It wouldn't exist without EMF Camp.  The blue and white yarn was paid for by EMF Camp.  I made it too big and I was too ambition, EMF Camp couldn't afford the gray yarn.  That was fine.  What you are seeing is the visible universe you can see with the naked human eye.
      It's all 88 constellations.  On the top, we have the constellations in the northern hemisphere, and the southern hemisphere at the bottom.  And the equatorial line through the center which is basically the equator of the Earth projected out into space, so you can get a sense of where  what part of the northern and southern hemisphere you can see.  The gray cloud is actually a representation of the Milky Way.  And we have the Sun, the Moon and the planets in this particular piece.
      The stars have been scaled according to the luminosity or magnification, actually.  So, humans can see up to magnification five or six with the naked eye comfortably.  That's how you can see it's up to magnification five, so, it's visible to the naked human eye.  I wanted the planets to line up to a particular date and time.  And they lined up at 6 p.m. Friday the 31st.  The day that EMF opened.
      [ Applause ]
      Way to hit a deadline.  Oh.  So, there's 88 official consolations out there.  There's actually 89 which have been labeled in this piece.  And that's because serpents consolation, the one and only constellation out of them all that is actually split into two noncontiguous parts.  So, serpents quarter and serpents kaput have been labeled separately because it's noncontiguous.  That's why there's 89 consolations on the map.  I wanted to emphasize that.  And it's with Australian wool, close to home.  It's essentially 100% Australian made.  And I give one consolation in the star map the modern name, that's the Star Cross, which can be seen on the Australian flag.  And I couldn't have done this without the help of my husband.  It's been every weekend for several months trying to get this for EMF Camp.  Big shoutout to John Spencer.  He's amazing.
      And surprise, it also lights up.  By the way
      [ Laughter ]
      [ Applause ]
      We're overdue now, I'm trying to talk quickly.  I took the star map to a hackathon at my work place, REO.io.  I got an amazing, incredible team of 18 people.  And the design is frontend developers, backend developers, system architects and we got together over three days and built a website that talks to an AWS Lambda service and an AWS IoT service that lights up neopixels in the knitting which is controlled by an ESP32.  It's incredible.  But only eight light up.  I would love to finish it and light them all up.  You can actually see this piece in this tent.  Look for this tent.  It is the lounge.  And you'll find it in there if you want to go have a look.
      That's it.
      [ Applause ]

